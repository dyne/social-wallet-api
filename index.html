<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>SWAPI - Open source complementary currency toolkit - Social Wallet</title>
		<link rel="stylesheet" href="./assets/css/bulma.min.css">
		<link rel="stylesheet" href="./assets/css/bulma-dyne.css">

		<link rel="stylesheet" href="//cdn.materialdesignicons.com/3.7.95/css/materialdesignicons.min.css">
		
		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat&display=swap">
		
		<link rel="stylesheet" href="css/custom.css">
		

	</head>
	<body>
		<nav class="navbar has-shadow is-transparent">
    <div class="navbar-brand">
        <a class="navbar-item" href="/">
			
            <h1 class="title">Social Wallet</h1>
			
        </a>
        <!-- <div class="navbar-burger burger" data-target="navbarExampleTransparentExample">
             <span></span>
             <span></span>
             <span></span>
             </div> -->
    </div>
	
	<div id="navbarExampleTransparentExample" class="navbar-menu">
        <div class="navbar-start">
			<div class="navbar-item">
				Open source complementary currency toolkit
			</div>
		</div>
	</div>
	
	<!-- 
		 <div id="navbarExampleTransparentExample" class="navbar-menu">
         <div class="navbar-start">
         
         
         <a class="navbar-item" href="">
         SWAPI - Open source complementary currency toolkit
         </a>
         
         
         </div>
	-->
        <div class="navbar-end">
            <div class="navbar-item">
                <div class="field is-grouped">
                    <!-- TODO: demo button
						 <p class="control">
                         <a class="button is-primary" href="">
                         <span class="icon">
                         <i class="mdi mdi-download"></i>
                         </span>
                         <span>Download</span>
                         </a>
						 </p> -->
                    <p class="control">
                        <a href="https://dyne.org">
                            <img src="https://img.shields.io/badge/made%20with%20%E2%9D%A4%20by-Dyne.org-turquoise.svg?style=for-the-badge&logo=gnu" alt="Made with love by Dyne.org" title="We are free to share code and we code to share Freedom"></a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</nav>
		<section class="section">
			<div class="container">
				<div class="columns">
					<div class="column is-one-quarter">
						<aside class="menu">
    
    <h1 class="menu-label">
        <span class="mdi mdi-fire has-text-danger"></span> Quick Links</h1>
    <ul class="menu-list" style="list-style: none">
        
        <li><span class="mdi mdi-github-circle"></span><a href="https://github.com/commonfare-net/social-wallet-api/">Source Code</a></li>
        
        
        <li><span class="mdi mdi-history"></span><a href="https://files.dyne.org/social-wallet-api">Latest Release</a></li>
        
        
        <li><span class="mdi mdi-docker"></span><a href="https://hub.docker.com/r/dyne/social-wallet-api">Docker image</a></li>
        
        
        <li><span class="mdi mdi-school"></span><a href="https://github.com/commonfare-net/social-wallet-api/wiki">Quick Start Guide</a></li>
        
        
        <li><span class="mdi mdi-forum"></span><a href="https://lists.dyne.org">Mailing list / Forum</a></li>
        
    </ul>
    

    <hr width="20%">

    <h1 class="menu-label">
        <span class="mdi mdi-format-list-numbered has-text-primary"></span> Table of Contents</h1>
	
    
    <ul class="menu-list">
        <li>
	<a href="#swapi-open-source-complementary-currency-toolkit">SWAPI - Open source complementary currency toolkit</a>
	
    <ul>
      
        <li>
	<a href="#with-swapi-you-can">üëÄ With SWAPI you can</a>
	
</li>
      
        <li>
	<a href="#technical-overview">üîß Technical overview</a>
	
</li>
      
        <li>
	<a href="#the-toolkit">üß∞ The toolkit</a>
	
</li>
      
        <li>
	<a href="#getting-started">üöÄ Getting Started</a>
	
</li>
      
        <li>
	<a href="#summary">üèÅ Summary</a>
	
</li>
      
        <li>
	<a href="#articles">üçª Articles</a>
	
</li>
      
        <li>
	<a href="#acknowledgements">üë• Acknowledgements</a>
	
</li>
      
        <li>
	<a href="#license">üìÑ License</a>
	
    <ul>
      
        <li>
	<a href="#additional-permission-under-gnu-agpl-version-3-section-7">Additional permission under GNU AGPL version 3 section 7.</a>
	
</li>
      
    </ul>
  
</li>
      
    </ul>
  
</li>
    </ul>
    
	
</aside>
					</div>
					<div class="column is-three-quarters">
						<div class="content">
							 <h1 id="swapi-open-source-complementary-currency-toolkit">SWAPI - Open source complementary currency toolkit</h1>
<p><a href="https://travis-ci.org/Commonfare-net/social-wallet-api"><img alt="Build Status" src="https://travis-ci.org/Commonfare-net/social-wallet-api.svg?branch=master" /></a>
<a href="https://clojars.org/social-wallet-api"><img alt="Clojars Project" src="https://img.shields.io/clojars/v/social-wallet-api.svg" /></a>
<a href="https://www.openhub.net/p/freecoin"><img alt="Freecoin project stats" src="https://www.openhub.net/p/freecoin/widgets/project_thin_badge.gif" /></a>
<a href="https://www.gnu.org/licenses/agpl-3.0"><img alt="License: AGPL v3" src="https://img.shields.io/badge/License-AGPL%20v3-blue.svg" /></a></p>
<p><img class="logo" src="/img/freecoin_logo.png" alt="software by Dyne.org" title="software by Dyne.org" width="400" /></p>
<hr />
<blockquote>
<p>The social wallet toolkit is a set of tools to let groups design and/or manage currencies in a simple and secure way. <br />
It is made for <strong>participatory</strong> and <strong>democratic organisations</strong> who want to incentivise participation -- <em>unlike centralised banking databases</em> and experiment with different economic models -- <em>unlike centralised nation state</em>.</p>
</blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/cAfaBqpozG0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<hr />
<h2 id="with-swapi-you-can">üëÄ With SWAPI you can</h2>
<ul>
<li>‚úÖ <strong>Create your currency from scratch and use it within your group</strong></li>
<li>‚úÖ <strong>Implement different economic governances</strong></li>
<li>‚úÖ <strong>Aggregate and visualize data generated during time</strong></li>
<li>‚úÖ <strong>Use your currency offline (eg. during festivals) via printed qrcode</strong></li>
<li>‚úÖ <strong>Add tags to your transactions to filter them</strong></li>
<li>‚úÖ <strong>Add a message to your transactions</strong></li>
<li>‚úÖ <strong>Use it as wallet for cryptocurrencies</strong></li>
<li>‚úÖ <strong>Use it with a default authentication system or use it within an existing userbase</strong></li>
</ul>
<hr />
<h2 id="technical-overview">üîß Technical overview</h2>
<p>The Social Wallet API allows both to create currencies from scratch and to facilitate the integration of blockchain functions into existing front-end applications, providing an easy
backend of documented <strong>REST API endpoints</strong> that are <strong>validated</strong> and, in
case of error, <strong>reporting meaningful messages</strong>. <br />
It also gives the opportunity to add <em>metadata</em> to transactions which can be very useful for grouping, labeling and filtering as well as adding some context.</p>
<p>The social wallet API layer is agnostic from any specific database implementation, being able to connect with different ledgers based on ad-hoc connectors.<br />
At present, available ledgers connectors are for mongodb and nippy (a filesystem storage) as well as for bitcoin blockchain and any blockchain node compatible with bitcoin core and that supports generic bitcoin RPC calls.</p>
<p>The Social wallet API can also operate with only the DB without any blockchain connection,
which is great for experimentation, testing or situations where the complexity of 
a distributed ledger is not required.</p>
<hr />
<h2 id="the-toolkit">üß∞ The toolkit</h2>
<p>The social wallet is built to be highly modular, and agnostic from any specific implementation - trying to suit a broader range of scenarios and giving freedom of experimentation to groups. <br />
To do that, we created a suite of open source libraries that can be plugged together and customized upon necessities:</p>
<ul>
<li><a href="https://github.com/Commonfare-net/freecoin-lib">Freecoin core library</a>: An interface to transactions operation</li>
<li><a href="https://github.com/Commonfare-net/social-wallet-api">API</a>: A clean and error-prone API layer</li>
<li><a href="https://github.com/Commonfare-net/social-wallet">Web app</a>: A javascript-free client interface </li>
<li><a href="https://github.com/Commonfare-net/just-auth">Just-auth</a>: Authentication and 2fa without frissle</li>
<li><a href="https://github.com/Commonfare-net/clj-storage">Clj-storage</a>: A minimalist clojure protocol abstraction over document databases</li>
</ul>
<hr />
<h2 id="getting-started">üöÄ Getting Started</h2>
<p>The Social Wallet API is written in Clojure and is fully cross-platform: one can run it locally on a GNU/Linux machine, as well on Apple/OSX and MS/Windows.</p>
<p><strong>Prerequisites</strong></p>
<p>Please install:</p>
<ol>
<li>
<p>A JDK. The software is tested on <a href="http://openjdk.java.net/">openJDK</a> versions 7 and 8 as well as with <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">oracleJDK 8</a> and 10. Make sure that the env var JAVA_HOME is set to the JDK install dir like <a href="https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/index.html">mentioned here</a>.</p>
</li>
<li>
<p><a href="https://docs.mongodb.com/manual/administration/install-community/">MongoDB community edition</a>. The software has been tested on Mongo v3.6.4. Earlier versions might not work due to loss of precision (Decimal128 was not introduced).</p>
</li>
<li>
<p><a href="https://leiningen.org/">leiningen</a> which is used for dependency management like:</p>
</li>
</ol>
<pre class="codehilite"><code>mkdir ~/bin
wget https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein -O ~/bin/lein
chmod +x ~/bin/lein</code></pre>


<p>For instance on Devuan systems one can install all necessary
dependencies using apt and the following packages: <code>apt-get
openjdk-7-jdk libversioneer-clojure haveged</code>.</p>
<p><strong>Running the Social Wallet API</strong></p>
<p>First of all check the configuration in
<code>resources/social-wallet-api.yaml</code> and adjust its contents to your
setup. Here a sample configuration:</p>
<pre class="codehilite"><code class="language-yaml"># verbosity level of messages
log-level: debug

# open freecoin specific section
freecoin:
# indentation matters: mind the initial spaces of following sections
  # If an apikey is added to the config, for that particular installation an apikey will be created, stored and required with every request. Device-id should be replaced with the device/client-app name/id.
  apikey: device-id ## optional
# configuration for the database holding local transactions
  mongo:
    host: localhost
    port: 27017
    db:   freecoin
    currency: Commoncoin # You can set this to the name of the local currency to be used on the DB

## All the configurations below are optional and multiple can be added

# configuration of the 'faircoin' blockchain
  faircoin:
# visualised name of the currency
    currency: fair
# number of confirmations to consider a transaction as valid
    number-confirmations: 6
# frequency of confirmations checks in milliseconds
    frequency-confirmations-millis: 20000
# path to the rpc configuration holding username and password
    rpc-config-path: /home/user/.faircoin2/faircoin.conf
# deposit to an address watch expiration time in milliseconds
    deposit-expiration-millis: 3600000
# frequency of deposit checks in milliseconds
    frequency-deposit-millis: 60000

# configuration of the 'bitcoin' blockchain
  bitcoin:
# visualised name of the currency
    currency: btc
# number of confirmations to consider a transaction as valid
    number-confirmations: 6
# frequency of confirmations checks in milliseconds
    frequency-confirmations-millis: 20000
# path to the rpc configuration holding username and password
    rpc-config-path: /home/user/.bitcoin/bitcoin.conf</code></pre>


<p>Once correctly configured, from inside the social-wallet-api source
directory one can use various commands to run it live (refreshing live
changes to the code) using:</p>
<ul>
<li><code>lein ring server</code> (which will start and spawn a browser on it)</li>
<li><code>lein ring server-headless</code> (will start without browser)</li>
</ul>
<p>One can also use <code>lein uberjar</code> to build a standalone jar application,
or <code>lein uberwar</code> to build a standalone war application ready to be
served from enterprise infrastructure using JBoss or Tomcat.</p>
<p><strong>Running the tests</strong></p>
<p>To run all tests one need to run
<code>lein midje</code>
on the project dir</p>
<p><strong>Run only the fast tests</strong></p>
<p>Some of the tests are marked as slow. If you want to avoid running them you can either</p>
<pre class="codehilite"><code>lein midje :filter -slow</code></pre>


<p>or use the alias</p>
<pre class="codehilite"><code>lein test-basic</code></pre>


<p><strong>Deployment</strong></p>
<p>Even though there are many ways to deploy this software, a dockerised version is provided in this project. 
For more details look into the <a href="docker">docker</a> folder. Please keep in mind that we do not recommend docker for production
due to some security concerns. </p>
<h2 id="summary">üèÅ Summary</h2>
<p>This table summarizes which are the available methods for the different backends.</p>
<table>
<thead>
<tr>
<th>method</th>
<th align="center">database</th>
<th align="center">blockchain</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tags.list</code></td>
<td align="center">‚úÖ</td>
<td align="center">üö´</td>
</tr>
<tr>
<td><code>transactions(...).new</code></td>
<td align="center">‚úÖ</td>
<td align="center">üö´</td>
</tr>
<tr>
<td><code>transactions(...).list</code></td>
<td align="center">‚úÖ</td>
<td align="center">‚úÖ</td>
</tr>
<tr>
<td><code>transactions(...).get</code></td>
<td align="center">‚úÖ</td>
<td align="center">‚úÖ</td>
</tr>
<tr>
<td><code>balance</code></td>
<td align="center">‚úÖ</td>
<td align="center">‚úÖ</td>
</tr>
<tr>
<td><code>label</code></td>
<td align="center">‚úÖ</td>
<td align="center">‚úÖ</td>
</tr>
<tr>
<td><code>address</code></td>
<td align="center">üö´</td>
<td align="center">‚úÖ</td>
</tr>
<tr>
<td><code>withdraws.new</code></td>
<td align="center">üö´</td>
<td align="center">‚úÖ</td>
</tr>
<tr>
<td><code>deposits.new</code></td>
<td align="center">üö´</td>
<td align="center">‚úÖ</td>
</tr>
<tr>
<td><code>deposits.check</code></td>
<td align="center">üö´</td>
<td align="center">‚úÖ</td>
</tr>
</tbody>
</table>
<h2 id="articles">üçª Articles</h2>
<ul>
<li><a href="https://www.dyne.org/setup-and-running-swapi-with-bitcoin-v0-18/">Setup and running swapi with bitcoin v0.18</a></li>
</ul>
<h2 id="acknowledgements">üë• Acknowledgements</h2>
<p>The Social Wallet API is Free and Open Source research and development
activity funded by the European Commission in the context of
the
<a href="https://ec.europa.eu/digital-single-market/en/collective-awareness">Collective Awareness Platforms for Sustainability and Social Innovation (CAPSSI)</a> program. Social
Wallet API uses the
underlying <a href="https://github.com/dyne/freecoin-lib">Freecoin-lib</a>
blockchain implementation library and adopted as a component of the
social wallet toolkit being developed for
the <a href="https://pieproject.eu">Commonfare project</a> (grant nr. 687922) .</p>
<h2 id="license">üìÑ License</h2>
<p>This project is licensed under the AGPL 3 License - see the <a href="LICENSE">LICENSE</a> file for details</p>
<h4 id="additional-permission-under-gnu-agpl-version-3-section-7">Additional permission under GNU AGPL version 3 section 7.</h4>
<p>If you modify Freecoin-lib, or any covered work, by linking or combining it with any library (or a modified version of that library), containing parts covered by the terms of EPL v 1.0, the licensors of this Program grant you additional permission to convey the resulting work. Your modified version must prominently offer all users interacting with it remotely through a computer network (if your version supports such interaction) an opportunity to receive the Corresponding Source of your version by providing access to the Corresponding Source from a network server at no charge, through some standard or customary means of facilitating copying of software. Corresponding Source for a non-source form of such a combination shall include the source code for the parts of the libraries (dependencies) covered by the terms of EPL v 1.0 used as well as that of the covered work.</p> 
						</div>
					</div>
				</div>
			</div>
		</section>
		<footer class="footer">
	<div class="content has-text-centered">
		<p>	<strong>Social Wallet</strong> is Copyright (C) 2019 by the <a href="https://dyne.org">Dyne.org foundation</a>. The source code is licensed <a href="https://www.gnu.org/licenses/agpl-3.0.en.html">AGPLv3</a>. </p>
		<div class="columns is-gapless">
			<div class="column is-one-fifth">
				<img src="assets/img/eu-flag.png"></div>
			<p class="column is-three-quarters">
			This project received funding from the European Union‚Äôs
			Horizon 2020 research and innovation programme under grant
			agreement nr. 687922.</p>
		</div>
	</div>
</footer>
		
		 <!-- Start of Async Drift Code -->
<script>
 "use strict";

 !function() {
	 var t = window.driftt = window.drift = window.driftt || [];
	 if (!t.init) {
		 if (t.invoked) return void (window.console && console.error &&
									 console.error("Drift snippet included twice."));
		 t.invoked = !0, t.methods = [ "identify", "config", "track", "reset",
									   "debug", "show", "ping", "page", "hide", "off", "on" ],
							   t.factory = function(e) {
								   return function() {
									   var n = Array.prototype.slice.call(arguments);
									   return n.unshift(e), t.push(n), t;
								   };
							   }, t.methods.forEach(function(e) {
								   t[e] = t.factory(e);
							   }), t.load = function(t) {
								   var e = 3e5, n = Math.ceil(new Date() / e) * e, o =
									   document.createElement("script");
								   o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous",
									   o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
								   var i = document.getElementsByTagName("script")[0];
								   i.parentNode.insertBefore(o, i);
							   };
	 }
 }();
 drift.SNIPPET_VERSION = '0.3.1';
 drift.load('s64nd7w43g53');
</script> 
	</body>
</html>